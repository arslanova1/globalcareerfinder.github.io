<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Account - Global Career Platform</title>
<style>
body{font-family:Poppins,sans-serif;margin:0;padding:0;background:#0d0d0d;color:white;}
header{display:flex;justify-content:space-between;align-items:center;padding:20px 50px;background:#111;}
.logo{font-size:1.6em;font-weight:bold;}
nav button{margin-left:15px;background:none;border:1px solid #555;color:white;padding:10px 18px;border-radius:25px;cursor:pointer;transition:0.3s;}
nav button:hover{background:#444;}
.container{max-width:900px;margin:50px auto;padding:20px;background:rgba(255,255,255,0.08);border-radius:15px;}
h2{text-align:center;margin-bottom:20px;}
.info{background:#1a1a1a;padding:15px;border-radius:15px;margin-bottom:15px;}
label{display:block;margin:10px 0 5px;}
input, select{width:100%;padding:10px;margin-bottom:15px;border-radius:25px;border:none;background:#222;color:white;}
button{width:100%;padding:12px;border-radius:25px;border:none;background:#00d8ff;color:black;font-weight:bold;cursor:pointer;transition:0.3s;}
button:hover{background:#00aacc;}
</style>
</head>
<body>
<header>
<div class="logo">Global Career Platform</div>
<nav>
<button onclick="window.location.href='home.html'">Home</button>
<button onclick="window.location.href='survey.html'">Survey</button>
<button onclick="logout()">Logout</button>
</nav>
</header>

<div class="container">
<h2>Your Account</h2>
<div class="info">
<label>Nickname:</label>
<input type="text" id="nickname" placeholder="Enter your nickname">
<label>Password:</label>
<input type="password" id="password" placeholder="Enter new password">
<label>Field:</label>
<select id="fieldSelect">
  <option value="">-- Select Field --</option>
</select>
<label>Country:</label>
<select id="countrySelect">
  <option value="">-- Select Country --</option>
</select>
<button onclick="saveAccount()">Save Changes</button>
</div>

<div id="universityList"></div>
</div>

<script>
// Example fields and countries, survey bilan bir xil bo'lishi kerak
const fields = ["Computer Science","Engineering","Medicine","Business","Law","Arts","Design","Mathematics","Physics","Chemistry","Biology","Economics","Psychology","Education","Architecture"];
const countries = ["United States","United Kingdom","Canada","Australia","Germany","France","Italy","Spain","Japan","China","South Korea","Singapore","Switzerland","Netherlands","Sweden","Finland","Norway","Denmark","Russia","Kazakhstan","Uzbekistan","India","Brazil","Mexico","Argentina","South Africa","Egypt","Turkey","Saudi Arabia","UAE","New Zealand","Belgium","Austria","Ireland","Portugal","Poland","Czech Republic","Greece","Thailand","Malaysia"];

// Load saved account info
window.onload = function(){
  const nickname = localStorage.getItem('nickname') || '';
  const password = localStorage.getItem('password') || '';
  const field = localStorage.getItem('selectedField') || '';
  const country = localStorage.getItem('selectedCountry') || '';

  document.getElementById('nickname').value = nickname;
  document.getElementById('password').value = password;

  const fieldSelect = document.getElementById('fieldSelect');
  fields.forEach(f => {
    const opt = document.createElement('option');
    opt.value = f;
    opt.textContent = f;
    if(f===field) opt.selected = true;
    fieldSelect.appendChild(opt);
  });

  const countrySelect = document.getElementById('countrySelect');
  countries.forEach(c => {
    const opt = document.createElement('option');
    opt.value = c;
    opt.textContent = c;
    if(c===country) opt.selected = true;
    countrySelect.appendChild(opt);
  });

  showUniversities();
}

function saveAccount(){
  const nickname = document.getElementById('nickname').value;
  const password = document.getElementById('password').value;
  const field = document.getElementById('fieldSelect').value;
  const country = document.getElementById('countrySelect').value;

  localStorage.setItem('nickname', nickname);
  localStorage.setItem('password', password);
  localStorage.setItem('selectedField', field);
  localStorage.setItem('selectedCountry', country);

  alert('Account information saved!');
  showUniversities();
}

// Example universities object, survey bilan bir xil bo'lishi kerak
const universities = {
  "United States":[{name:"Harvard University",link:"https://www.harvard.edu",status:"Recognized"}],
  "United Kingdom":[{name:"University of Oxford",link:"https://www.ox.ac.uk",status:"Recognized"}],
  "Canada":[{name:"University of Toronto",link:"https://www.utoronto.ca",status:"Recognized"}]
  // qolgan mamlakatlar survey.js bilan bir xil tarzda qo'shiladi
}

function showUniversities(){
  const country = document.getElementById('countrySelect').value;
  const list = document.getElementById('universityList');
  list.innerHTML = '';
  if(universities[country]){
    universities[country].forEach(u=>{
      const div = document.createElement('div');
      div.className = 'university';
      div.innerHTML = `<strong>${u.name}</strong> - <a href='${u.link}' target='_blank'>Website</a> - ${u.status}`;
      list.appendChild(div);
    });
  } else {
    const div = document.createElement('div');
    div.className = 'empty';
    div.textContent = 'No universities available for this country.';
    list.appendChild(div);
  }
}

function logout(){
  localStorage.clear();
  window.location.href='index.html';
}
</script>
</body>
</html>
